"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2531],{25765:function(e,s,t){t.d(s,{Z:function(){return r}});var n=t(52322),a=t(76141);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(52186).Z)("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var i=t(2784),r=e=>{let{commands:s}=e;return(0,n.jsx)("div",{className:"space-y-4",children:s.map((e,s)=>(0,n.jsx)(o,{item:e},"command-".concat(s)))})};let o=e=>{let{item:s}=e,[t,r]=(0,i.useState)(!1);return(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:"> ".concat(s.comment)}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,n.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,n.jsxs)("span",{children:[(0,n.jsxs)("span",{children:[s.jsx?s.jsx():null," "]}),(0,n.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:()=>{var e;e=s.command,r(!0),navigator.clipboard.writeText(e).then(),setTimeout(function(){r(!1)},3e3)},children:t?(0,n.jsx)(a.Z,{size:14,strokeWidth:3,className:"text-brand"}):(0,n.jsx)(l,{size:14})})]})]})})]})}},4651:function(e,s,t){t.d(s,{Hk:function(){return I},vI:function(){return K},Zv:function(){return Q},ds:function(){return X}});var n=t(52322),a=t(24990),l=t(59491),i=t(6277),r=t(99959),o=t(28879),c=t.n(o),d=t(39097),u=t.n(d),x=t(5632),h=t(2784),m=t(62202),f=t(14698),p=t(64306),j=t(53535),g=t(22721),v=t(22657),b=t(85945),y=t(48228),N=t(31696),w=t(66437);async function k(e){let{projectRef:s,slug:t}=e;if(!s)throw Error("projectRef is required");let{data:n,error:a}=await (0,N.IV)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:s,function_slug:t}}});return a&&(0,N.S3)(a),n}let Z=function(){let{onSuccess:e,onError:s,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,b.NL)();return(0,y.D)(e=>k(e),{async onSuccess(s,t,a){let{projectRef:l}=t;await n.invalidateQueries(w.f.list(l),{refetchType:"all"}),await (null==e?void 0:e(s,t,a))},async onError(e,t,n){void 0===s?m.Am.error("Failed to delete edge function: ".concat(e.message)):s(e,t,n)},...t})};async function C(e){let{projectRef:s,slug:t,payload:n}=e;if(!s)throw Error("projectRef is required");let{data:a,error:l}=await (0,N.r$)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:s,function_slug:t}},body:n});return l&&(0,N.S3)(l),a}let E=function(){let{onSuccess:e,onError:s,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,b.NL)();return(0,y.D)(e=>C(e),{async onSuccess(s,t,a){let{projectRef:l,slug:i}=t;await Promise.all([n.invalidateQueries(w.f.detail(l,i)),n.invalidateQueries(w.f.list(l))]),await (null==e?void 0:e(s,t,a))},async onError(e,t,n){void 0===s?m.Am.error("Failed to update edge function: ".concat(e.message)):s(e,t,n)},...t})};var z=t(14528),A=t(17172),S=t(63203),F=t(99064),_=t(25097),Y=t(62277),D=t(750),M=t(22854),T=t(32079),R=t(48869),O=t(47852),U=t(25765);let L=(e,s,t)=>({managementCommands:[{command:"supabase functions deploy ".concat(null==e?void 0:e.slug),description:"This will overwrite the deployed function with your new function",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy"," ",null==e?void 0:e.slug]}),comment:"Deploy a new version"},{command:"supabase functions delete ".concat(null==e?void 0:e.slug),description:"This will remove the function and all the logs associated with it",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions delete"," ",null==e?void 0:e.slug]}),comment:"Delete the function"}],secretCommands:[{command:"supabase secrets list",description:"This will list all the secrets for your project",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets list"]}),comment:"View all secrets"},{command:"supabase secrets set NAME1=VALUE1 NAME2=VALUE2",description:"This will set secrets for your project",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets set NAME1=VALUE1 NAME2=VALUE2"]}),comment:"Set secrets for your project"},{command:"supabase secrets unset NAME1 NAME2 ",description:"This will delete secrets for your project",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets unset NAME1 NAME2"]}),comment:"Unset secrets for your project"}],invokeCommands:[{command:"curl -L -X POST '".concat(s,"' -H 'Authorization: Bearer ").concat(null!=t?t:"[YOUR ANON KEY]",'\' --data \'{"name":"Functions"}\''),description:"Invokes the hello function",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",s,"' -H 'Authorization: Bearer [YOUR ANON KEY]' ",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}]});var I=()=>{var e,s,t;let o=(0,x.useRouter)(),{ref:d,functionSlug:b}=(0,r.UO)(),[y,N]=(0,h.useState)(!1),[w,k]=(0,h.useState)(!1),{data:C}=(0,j.q)({projectRef:d}),{data:I}=(0,g.z)({projectRef:d}),{data:P}=(0,v.J)({projectRef:d,slug:b}),{mutate:W,isLoading:q}=E(),{mutate:H,isLoading:V}=Z({onSuccess:()=>{m.ZP.success('Successfully deleted "'.concat(null==P?void 0:P.name,'"')),o.push("/project/".concat(d,"/functions"))}}),K="edge-function-update-form",B=(0,z.Xo)(l.KA.FUNCTIONS_WRITE,"*"),J=null==C?void 0:C.autoApiService,X=null!==(s=null==J?void 0:J.defaultApiKey)&&void 0!==s?s:"[YOUR ANON KEY]",Q=null!==(t=null==J?void 0:J.app_config.endpoint)&&void 0!==t?t:"",$=(null==I?void 0:null===(e=I.customDomain)||void 0===e?void 0:e.status)==="active"?"".concat(null==J?void 0:J.protocol,"://").concat(I.customDomain.hostname,"/functions/v1/").concat(null==P?void 0:P.slug):"".concat(null==J?void 0:J.protocol,"://").concat(Q,"/functions/v1/").concat(null==P?void 0:P.slug),{managementCommands:G,secretCommands:ee,invokeCommands:es}=L(P,$,X),et=async(e,s)=>{let{resetForm:t}=s;return d?void 0===P?console.error("No edge function selected"):void W({projectRef:d,slug:P.slug,payload:e},{onSuccess:()=>{t({values:e,initialValues:e}),m.ZP.success("Successfully updated edge function")}}):console.error("Project ref is required")},en=async()=>d?void 0===P?console.error("No edge function selected"):void H({projectRef:d,slug:P.slug}):console.error("Project ref is required"),ea=(0,h.useMemo)(()=>(null==P?void 0:P.import_map)||(null==P?void 0:P.import_map_path),[P]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"space-y-4 pb-16",children:[(0,n.jsx)(Y.Z,{id:K,initialValues:{},onSubmit:et,children:e=>{var s,t,a;let{handleReset:l,values:r,initialValues:o,resetForm:d}=e,x=JSON.stringify(r)!==JSON.stringify(o);return(0,h.useEffect)(()=>{if(void 0!==P){let e={name:null==P?void 0:P.name,verify_jwt:null==P?void 0:P.verify_jwt};d({values:e,initialValues:e})}},[P]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(f.by,{disabled:!B,footer:(0,n.jsx)("div",{className:"flex py-4 px-8",children:(0,n.jsx)(f.iN,{form:K,isSubmitting:q,hasChanges:x,handleReset:l,helper:B?void 0:"You need additional permissions to update this function"})}),children:[(0,n.jsx)(f.hj,{header:(0,n.jsx)(f.S0,{children:"Function Details"}),children:(0,n.jsxs)(f.B4,{loading:void 0===P,children:[(0,n.jsx)(D.Z,{id:"name",name:"name",label:"Name"}),(0,n.jsx)(D.Z,{disabled:!0,id:"slug",name:"slug",label:"Slug",value:null==P?void 0:P.slug}),(0,n.jsx)(D.Z,{disabled:!0,copy:!0,label:"Endpoint URL",value:$}),(0,n.jsx)(D.Z,{disabled:!0,label:"Region",value:"All functions are deployed globally"}),(0,n.jsx)(D.Z,{disabled:!0,label:"Created at",value:c()(null!==(s=null==P?void 0:P.created_at)&&void 0!==s?s:0).format("dddd, MMMM D, YYYY h:mm A")}),(0,n.jsx)(D.Z,{disabled:!0,label:"Last updated at",value:c()(null!==(t=null==P?void 0:P.updated_at)&&void 0!==t?t:0).format("dddd, MMMM D, YYYY h:mm A")}),(0,n.jsx)(D.Z,{disabled:!0,label:"Deployments",value:null!==(a=null==P?void 0:P.version)&&void 0!==a?a:0})]})}),(0,n.jsx)(f.hj,{header:(0,n.jsx)(f.S0,{children:"Function Configuration"}),children:(0,n.jsxs)(f.B4,{loading:void 0===P,children:[(0,n.jsx)(M.Z,{id:"verify_jwt",name:"verify_jwt",label:"Enforce JWT Verification",descriptionText:"Require a valid JWT in the authorization header when invoking the function"}),(0,n.jsxs)("div",{className:"space-y-1 border rounded border-default bg-surface-200 px-4 py-4",children:[(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsxs)("p",{className:"text-sm",children:["Import maps are"," ",(0,n.jsx)("span",{className:(0,i.default)(ea?"text-brand":"text-amber-900"),children:ea?"used":"not used"})," ","for this function"]})}),(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:"Import maps allow the use of bare specifiers in functions instead of explicit import URLs"}),(0,n.jsx)("div",{className:"!mt-4",children:(0,n.jsx)(T.z,{asChild:!0,type:"default",icon:(0,n.jsx)(A.Z,{strokeWidth:1.5}),children:(0,n.jsx)(u(),{href:"https://supabase.com/docs/guides/functions/import-maps",target:"_blank",rel:"noreferrer",children:"More about import maps"})})})]})]})})]})})}}),(0,n.jsxs)("div",{className:"space-y-6 rounded border bg-surface-100 px-6 py-4 drop-shadow-sm transition-all overflow-hidden",style:{maxHeight:w?800:66},children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded border bg-foreground p-2 text-background",children:(0,n.jsx)(S.Z,{size:18,strokeWidth:2})}),(0,n.jsx)("h4",{children:"Command line access"})]}),(0,n.jsx)("div",{className:"cursor-pointer",onClick:()=>k(!w),children:w?(0,n.jsx)(F.Z,{size:14,strokeWidth:1.5}):(0,n.jsx)(_.Z,{size:14,strokeWidth:1.5})})]}),(0,n.jsx)("h5",{className:"text-base",children:"Deployment management"}),(0,n.jsx)(U.Z,{commands:G}),(0,n.jsx)("h5",{className:"text-base",children:"Invoke "}),(0,n.jsx)(U.Z,{commands:es}),(0,n.jsx)("h5",{className:"text-base",children:"Secrets management"}),(0,n.jsx)(U.Z,{commands:ee})]}),(0,n.jsxs)("div",{className:"!mt-8",children:[(0,n.jsx)(f.ph,{title:"Delete Edge Function",description:""}),(0,n.jsx)(p.Z,{children:(0,n.jsx)(p.Z.Content,{children:(0,n.jsxs)(R.b,{withIcon:!0,variant:"danger",title:"Once your function is deleted, it can no longer be restored",children:[(0,n.jsx)("p",{className:"mb-3",children:"Make sure you have made a backup if you want to restore your edge function"}),(0,n.jsxs)(a.fC,{delayDuration:0,children:[(0,n.jsx)(a.xz,{asChild:!0,children:(0,n.jsx)(T.z,{type:"danger",disabled:!B,loading:(null==P?void 0:P.id)===void 0,onClick:()=>N(!0),children:"Delete edge function"})}),!B&&(0,n.jsx)(a.h_,{children:(0,n.jsxs)(a.VY,{side:"bottom",children:[(0,n.jsx)(a.Eh,{className:"radix-tooltip-arrow"}),(0,n.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,n.jsx)("span",{className:"text-xs text-foreground",children:"You need additional permissions to delete an edge function"})})]})})]})]})})})]})]}),(0,n.jsx)(O.C,{size:"small",alignFooter:"right",header:(0,n.jsxs)("h3",{children:["Confirm to delete ",null==P?void 0:P.name]}),visible:y,loading:V,onCancel:()=>N(!1),onConfirm:en,children:(0,n.jsx)("div",{className:"py-6",children:(0,n.jsx)(O.C.Content,{children:(0,n.jsx)(R.b,{withIcon:!0,variant:"warning",title:"This action cannot be undone",children:"Ensure that you have made a backup if you want to restore your edge function"})})})})]})},P=t(90488),W=t(54506),q=t(66760),H=t(27570),V=t(15735),K=e=>{var s;let{function:t}=e,l=(0,x.useRouter)(),{ref:i}=(0,q.UO)(),{project:r}=(0,H.d2)(),[o,d]=(0,h.useState)(!1),{data:u}=(0,g.z)({projectRef:i}),m=null==r?void 0:r.restUrl,f=void 0!==m?new URL(m).hostname.split(".").pop():"co",p="https://".concat(i,".supabase.").concat(f,"/functions/v1/").concat(t.slug),j=(null==u?void 0:null===(s=u.customDomain)||void 0===s?void 0:s.status)==="active"?"https://".concat(u.customDomain.hostname,"/functions/v1/").concat(t.slug):p;return(0,n.jsxs)(V.Z.tr,{onClick:()=>{l.push("/project/".concat(i,"/functions/").concat(t.slug,"/details"))},children:[(0,n.jsx)(V.Z.td,{children:(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("p",{className:"text-sm text-foreground",children:t.name})})}),(0,n.jsx)(V.Z.td,{children:(0,n.jsxs)("div",{className:"text-xs text-foreground-light flex gap-2 items-center truncate",children:[(0,n.jsx)("p",{className:"font-mono truncate hidden md:inline",children:j}),(0,n.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground transition",onClick:e=>{e.stopPropagation(),d(!0),navigator.clipboard.writeText(j).then(),setTimeout(function(){d(!1)},3e3)},children:o?(0,n.jsx)("div",{className:"text-brand",children:(0,n.jsx)(P.Z,{size:14,strokeWidth:3})}):(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("div",{className:"block",children:(0,n.jsx)(W.Z,{size:14,strokeWidth:1.5})})})})]})}),(0,n.jsx)(V.Z.td,{className:"hidden 2xl:table-cell",children:(0,n.jsx)("p",{className:"text-foreground-light",children:c()(t.created_at).format("DD MMM, YYYY HH:mm")})}),(0,n.jsx)(V.Z.td,{className:"lg:table-cell",children:(0,n.jsxs)(a.fC,{delayDuration:0,children:[(0,n.jsx)(a.xz,{children:(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:c()(t.updated_at).fromNow()})})}),(0,n.jsx)(a.h_,{children:(0,n.jsxs)(a.VY,{side:"bottom",children:[(0,n.jsx)(a.Eh,{className:"radix-tooltip-arrow"}),(0,n.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,n.jsxs)("span",{className:"text-xs text-foreground",children:["Last updated on ",c()(t.updated_at).format("DD MMM, YYYY HH:mm")]})})]})})]})}),(0,n.jsx)(V.Z.td,{className:"lg:table-cell",children:(0,n.jsx)("p",{className:"text-foreground-light",children:t.version})})]},t.id)},B=t(30339),J=t(63294),X=e=>{var s,t,a;let{closable:l=!1,removeBorder:i=!1}=e,r=(0,x.useRouter)(),{ref:o}=(0,q.UO)(),[c,d]=(0,h.useState)(!l),{data:u}=(0,J.h)(),{data:m}=(0,j.q)({projectRef:o}),{data:f}=(0,g.z)({projectRef:o}),p=null==m?void 0:m.autoApiService,v=null!==(t=null==p?void 0:p.defaultApiKey)&&void 0!==t?t:"[YOUR ANON KEY]",b=null!==(a=null==m?void 0:m.autoApiService.app_config.endpoint)&&void 0!==a?a:"",y=(null==f?void 0:null===(s=f.customDomain)||void 0===s?void 0:s.status)==="active"?"https://".concat(f.customDomain.hostname,"/functions/v1"):"https://".concat(b,"/functions/v1"),N=null==m?void 0:m.autoApiService.restUrl,w=N?new URL(N).hostname.split(".").pop():"co",k=[{command:"supabase functions new hello-world",description:" creates a function stub at ./functions/hello-world/index.ts",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions new hello-world"]}),comment:"Create a function"},{command:"supabase functions deploy hello-world --project-ref ".concat(o),description:"Deploys function at ./functions/hello-world/index.ts",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy hello-world --project-ref ",o]}),comment:"Deploy your function"},{command:"curl -L -X POST 'https://".concat(o,".supabase.").concat(w,"/functions/v1/hello-world' -H 'Authorization: Bearer ").concat(null!=v?v:"[YOUR ANON KEY]",'\' --data \'{"name":"Functions"}\''),description:"Invokes the hello-world function",jsx:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",y,"/hello-world' -H 'Authorization: Bearer [YOUR ANON KEY]'"," ",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}];return(0,n.jsxs)("div",{className:"col-span-7 overflow-hidden transition-all rounded bg-surface-100 ".concat(i?"":"border shadow"),style:{maxHeight:c?500:80},children:[(0,n.jsxs)("div",{className:"px-8 py-6 space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-8 h-8 p-2 border rounded bg-alternative",children:(0,n.jsx)(S.Z,{strokeWidth:2})}),(0,n.jsx)("h4",{children:"Create your first Edge Function via the CLI"})]}),l&&(0,n.jsx)("div",{className:"cursor-pointer",onClick:()=>d(!c),children:c?(0,n.jsx)(F.Z,{size:16,strokeWidth:1.5}):(0,n.jsx)(_.Z,{size:16,strokeWidth:1.5})})]}),(0,n.jsx)(U.Z,{commands:k})]}),u&&0===u.length?(0,n.jsxs)("div",{className:"px-8 py-6 space-y-3 border-t",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-base text-foreground",children:"You may need to create an access token"}),(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:"You can create a secure access token in your account section"})]}),(0,n.jsx)(T.z,{type:"default",onClick:()=>r.push("/account/tokens"),children:"Access tokens"})]}):(0,n.jsxs)("div",{className:"px-8 py-6 space-y-3 border-t",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-base text-foreground",children:"Need help?"}),(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:"Read the documentation, or browse some sample code."})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(T.z,{asChild:!0,type:"default",icon:(0,n.jsx)(A.Z,{}),children:(0,n.jsx)("a",{href:"https://supabase.com/docs/guides/functions",target:"_blank",rel:"noreferrer",children:"Documentation"})}),(0,n.jsx)(T.z,{asChild:!0,type:"default",icon:(0,n.jsx)(B.Z,{}),children:(0,n.jsx)("a",{href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",target:"_blank",rel:"noreferrer",children:"Examples"})})]})]})]})},Q=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"grid max-w-7xl gap-y-12 py-12 lg:grid-cols-12 lg:gap-x-16",children:[(0,n.jsxs)("div",{className:"col-span-5 space-y-4",children:[(0,n.jsx)("p",{className:"max-w-lg text-base text-foreground",children:"Scalable functions to run your code with no server management."}),(0,n.jsx)("p",{className:"max-w-lg text-sm text-foreground-light",children:"Edge Functions are server-side Typescript functions, distributed globally at the edge - close to your users. They can be used for listening to webhooks or integrating your Supabase project with third-parties."}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(T.z,{asChild:!0,type:"default",icon:(0,n.jsx)(A.Z,{}),children:(0,n.jsx)(u(),{href:"https://supabase.com/docs/guides/functions",target:"_blank",rel:"noreferrer",children:"Documentation"})}),(0,n.jsx)(T.z,{asChild:!0,type:"default",icon:(0,n.jsx)(B.Z,{}),children:(0,n.jsx)(u(),{href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",target:"_blank",rel:"noreferrer",children:"Examples"})})]})]}),(0,n.jsx)(X,{})]})})},50535:function(e,s,t){t.d(s,{Z:function(){return y}});var n=t(52322),a=t(59491),l=t(39097),i=t.n(l),r=t(99959),o=t(63910),c=t(53449),d=t(14782),u=t(22657),x=t(21970),h=t(14528),m=t(52995),f=t(32079),p=t(32830),j=t(9015),g=t(5632),v=e=>{let{item:s}=e,t=(0,g.useRouter)(),a=t.pathname.split("/")[5],{ref:l}=t.query;return(0,n.jsxs)(j.Z,{defaultActiveId:"1",type:"underlined",size:"medium",activeId:a||"metrics",onChange:e=>t.push("/project/".concat(l,"/functions/").concat(s.slug,"/").concat("metrics"===e?"":e)),children:[(0,n.jsx)(j.Z.Panel,{id:"details",label:"Details"}),(0,n.jsx)(j.Z.Panel,{id:"metrics",label:"Metrics"}),(0,n.jsx)(j.Z.Panel,{id:"invocations",label:"Invocations"}),(0,n.jsx)(j.Z.Panel,{id:"logs",label:"Logs"})]})},b=t(7929),y=(0,h.QO)(e=>{let{title:s,children:t}=e,{functionSlug:l,ref:j}=(0,r.UO)(),g=(0,o.cg)(),{data:y,isLoading:N}=(0,x.I)({projectRef:j}),{data:w}=(0,u.J)({projectRef:j,slug:l});if(!(0,h.Xo)(a.KA.FUNCTIONS_READ,"*"))return(0,n.jsx)(b.AM,{title:s||"Edge Functions",product:"Edge Functions",children:(0,n.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:(0,n.jsx)(d.Z,{isFullPage:!0,resourceText:"access your project's edge functions"})})});let k=(null==w?void 0:w.name)||"",Z=(null!=y?y:[]).length>0;return(0,n.jsx)(b.AM,{isLoading:N,title:s||"Edge Functions",product:"Edge Functions",children:Z?(0,n.jsxs)("div",{className:"flex h-full flex-grow flex-col py-6",children:[(0,n.jsxs)("div",{className:"mx-auto flex w-full flex-col transition-all 1xl:px-28 gap-4 px-5 lg:px-16 xl:px-24 2xl:px-32",children:[(0,n.jsx)("div",{className:"item-center flex flex-col justify-between gap-y-4 xl:flex-row",children:(0,n.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,n.jsx)("div",{className:"h-6 w-6 rounded border border-brand-600 bg-brand-300 flex items-center justify-center text-brand",children:(0,n.jsx)(m.Z,{size:14,strokeWidth:3})}),(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(i(),{href:"/project/".concat(j,"/functions"),children:(0,n.jsx)("h1",{className:"cursor-pointer text-2xl text-foreground transition-colors hover:text-foreground-light",children:"Edge Functions"})}),k&&(0,n.jsxs)("div",{className:"mt-1.5 flex items-center space-x-4",children:[(0,n.jsx)("span",{className:"text-foreground-light",children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,n.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,n.jsx)("h5",{className:"text-lg text-foreground",children:k})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(f.z,{asChild:!0,type:"default",children:(0,n.jsx)(i(),{href:"/project/".concat(j,"/settings/functions"),children:"Manage secrets"})}),g&&(0,n.jsx)(c.Z,{section:void 0!==l?["edge-functions",l]:["edge-functions"]}),(0,n.jsx)(f.z,{asChild:!0,type:"default",className:"translate-y-[1px]",icon:(0,n.jsx)(p.Z,{size:14,strokeWidth:1.5}),children:(0,n.jsx)(i(),{href:"https://supabase.com/docs/guides/functions",target:"_link",children:"Documentation"})})]})]})]})}),void 0!==l&&(0,n.jsx)(v,{item:w})]}),(0,n.jsx)("div",{className:"mx-auto flex h-full w-full flex-grow flex-col transition-all 1xl:px-28 gap-4 px-5 lg:px-16 xl:px-24 2xl:px-32",children:t})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"mx-auto max-w-5xl py-24 px-5",children:[(0,n.jsx)("div",{className:"item-center flex flex-col justify-between gap-y-4 xl:flex-row",children:(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsx)("h1",{className:"text-2xl text-foreground",children:"Edge Functions"})})})}),t]})})})})},14698:function(e,s,t){t.d(s,{iN:function(){return g},ph:function(){return u},by:function(){return j},hj:function(){return h},B4:function(){return p},S0:function(){return m},ld:function(){return a}});var n=t(52322);function a(e){return(0,n.jsxs)("div",{className:"mx-auto max-w-4xl px-5 pt-12 pb-20",children:[e.header&&(0,n.jsx)("h1",{className:"text-foreground mb-8 text-3xl",children:e.header}),(0,n.jsx)("div",{className:"space-y-20",children:e.children})]})}var l=t(17172),i=t(39097),r=t.n(i),o=t(14048),c=t(80435),d=t(32079);let u=e=>{let{title:s,description:t,docsUrl:a,actions:i,className:u}=e;return(0,n.jsxs)("div",{className:"mb-6 flex items-center justify-between ".concat(u),children:[(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("h3",{className:"text-foreground text-xl",children:(0,n.jsx)(o.D,{unwrapDisallowed:!0,disallowedElements:["p"],children:s})}),t&&(0,n.jsx)(c.U,{content:t,className:"max-w-full"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[void 0!==a&&(0,n.jsx)(d.z,{asChild:!0,type:"default",icon:(0,n.jsx)(l.Z,{size:14}),children:(0,n.jsx)(r(),{href:a,target:"_blank",rel:"noreferrer",children:"Documentation"})}),i]})]})};var x=t(2784);let h=e=>{let{children:s,id:t,header:a,disabled:l,className:i}=e;return(0,n.jsxs)("div",{id:t,className:["grid grid-cols-12 gap-6 px-8 py-8","".concat(l?" opacity-30":" opacity-100"),"".concat(i)].join(" "),children:[a,s]})},m=e=>{let{children:s,className:t="",description:a}=e;return void 0!==a?(0,n.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(t),children:[(0,n.jsx)("label",{className:"text-foreground text-sm",children:s}),a]}):(0,n.jsx)("label",{className:"text-foreground col-span-12 text-sm lg:col-span-5 ".concat(t),children:s})},f=()=>(0,n.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,n.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,n.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,n.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]}),p=e=>{let{children:s,loading:t=!0,fullWidth:a,className:l}=e;return(0,n.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(a&&"!col-span-12","\n        ").concat(l,"\n      "),children:t?x.Children.map(s,()=>(0,n.jsx)(f,{})):s})},j=e=>{let{children:s,header:t,footer:a}=e;return(0,n.jsxs)("div",{className:" bg-surface-100 border-default overflow-hidden  rounded-md border shadow",children:[t&&(0,n.jsx)("div",{className:"border-default border-b px-8 py-4",children:t}),(0,n.jsx)("div",{className:"divide-border flex flex-col gap-0 divide-y",children:s}),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"border-default border-t"}),a]})]})},g=e=>{let{form:s,hasChanges:t,handleReset:a,helper:l,disabled:i=!1,isSubmitting:r,submitText:o="Save"}=e,c=r||i||!t&&void 0!==t;return(0,n.jsxs)("div",{className:["flex w-full items-center gap-2",l?"justify-between":"justify-end"].join(" "),children:[l&&(0,n.jsx)("span",{className:"text-sm text-foreground-lighter",children:l}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.z,{disabled:c,type:"default",htmlType:"reset",onClick:()=>a(),children:"Cancel"}),(0,n.jsx)(d.z,{form:s,type:"primary",htmlType:"submit",disabled:c,loading:r,children:o})]})]})}},63294:function(e,s,t){t.d(s,{h:function(){return o}});var n=t(36492),a=t(88354),l=t(99248),i=t(22066);async function r(e){let s=await (0,a.U2)("".concat(l.T5,"/profile/access-tokens"),{signal:e});if(!(0,a.d8)(s))throw s.error;return s}let o=function(){let{enabled:e=!0,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.a)(i.C.list(),e=>{let{signal:s}=e;return r(s)},s)}},22066:function(e,s,t){t.d(s,{C:function(){return n}});let n={list:()=>["access-tokens"]}},22657:function(e,s,t){t.d(s,{J:function(){return o}});var n=t(36492),a=t(31696),l=t(99248),i=t(66437);async function r(e,s){let{projectRef:t,slug:n}=e;if(!t)throw Error("projectRef is required");if(!n)throw Error("slug is required");let{data:l,error:i}=await (0,a.U2)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:t,function_slug:n}},signal:s});return i&&(0,a.S3)(i),l}let o=function(e){let{projectRef:s,slug:t}=e,{enabled:a=!0,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.a)(i.f.detail(s,t),e=>{let{signal:n}=e;return r({projectRef:s,slug:t},n)},{enabled:l.Qy&&a&&void 0!==s&&void 0!==t,...o})}},25097:function(e,s,t){t.d(s,{Z:function(){return n}});/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(52186).Z)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},99064:function(e,s,t){t.d(s,{Z:function(){return n}});/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(52186).Z)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},63203:function(e,s,t){t.d(s,{Z:function(){return n}});/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(52186).Z)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])}}]);